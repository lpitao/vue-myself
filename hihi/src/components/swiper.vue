<template>
	<div class="swiper-container">
		<div class="swiper-wrapper">
			<div @click="ccc()" >123</div>
			<div class="swiper-slide" v-for="(x, index) in list">
		        <a href="javascript:;" @click="x.href ? $router.openPage(x.href) : ''"><img :src="x.src" :alt="x.alt || 'img'+index"></a>
		    </div>
		</div>
		<div class="swiper-pagination"></div>
	</div>
</template>

<script>
  import Swiper from '../assets/swiper/swiper-3.4.2.min'
  import _ from 'lodash'
  var myswiper = null;
  export default{
  	props:{
  		list:{
  			type: Array,
  			default: function(){
  				return[]
  			}
  		},
  		config:{
  			type:Object,
  			default:function(){
  				return {
  					autoplay: 6000,
  					observer:true,
  					observeParents: true,
  					autoplayDisableOnInteraction:false
  				}
  			}
  		}
  	},
  	data(){
  		return{
  			
  		}
  	},
	mounted() {
      myswiper = new Swiper (this.$refs.swiper, _.assign({
        pagination: this.$refs.pagination
      }, this.config))
    },
    watch: {
      list(newval, oldVal){
        setTimeout(function () {
          myswiper.update();
        }, 10)
      }
    }
  }
</script>
<style>
  .swiper-container img{
    width: 100%;
  }
  .vue-swiper .swiper-pagination-bullet{
    background-color: #fff;
  }
  .vue-swiper .swiper-pagination-white .swiper-pagination-bullet-active{
    background-color: #fff;
  }
</style>